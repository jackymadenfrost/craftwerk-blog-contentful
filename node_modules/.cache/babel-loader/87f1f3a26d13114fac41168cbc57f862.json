{"ast":null,"code":"var _jsxFileName = \"/Users/chusyjacky/Documents/GitHub/ContentfulBlog/src/component/BlogPost.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport * as Markdown from \"react-markdown\";\nimport ContentfulUtil from \"../utils/ContentfulUtil\";\n\nclass BlogPost extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      date: \"\",\n      title: \"\",\n      icon: \"\",\n      content: \"\"\n    };\n\n    this.setPost = post => {\n      if (post && post.items.length) {\n        this.setState({\n          date: post.items[0].fields.date,\n          title: post.items[0].fields.title,\n          icon: post.items[0].fields.icon,\n          content: post.items[0].fields.content\n        });\n      }\n    };\n\n    this.isBlogPostInProps = () => this.props && this.props.location && this.props.location.date && this.props.location.title && this.props.location.icon && this.props.location.content;\n\n    this.isBlogPostLoaded = () => this.state && this.state.date && this.state.title && this.state.icon && this.state.content;\n\n    this.renderBlogPost = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n      to: \"/blog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, \"Back to Blog\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, moment(this.state.date).calendar(null, {\n      sameDay: \"[Today]\",\n      lastDay: \"[Yesterday]\",\n      lastWeek: \"[Last] dddd\",\n      sameElse: \"MMM Do YYYY\"\n    })), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.icon,\n      style: {\n        maxHeight: 200\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }\n    }, this.state.title), /*#__PURE__*/React.createElement(Markdown, {\n      source: this.state.content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }\n    }));\n\n    this.render = () => {\n      return this.isBlogPostLoaded() ? this.renderBlogPost() : \"Loading...\";\n    };\n  }\n\n  componentDidMount() {\n    if (this.isBlogPostInProps()) {\n      this.setState({\n        date: this.props.location.date,\n        title: this.props.location.title,\n        icon: this.props.location.icon,\n        content: this.props.location.content\n      });\n    } else {\n      ContentfulUtil.fetchPostByPathName(this.props.match.params.blogPost).then(response => this.setPost(response));\n    }\n  }\n\n}\n\nexport default BlogPost;","map":{"version":3,"sources":["/Users/chusyjacky/Documents/GitHub/ContentfulBlog/src/component/BlogPost.js"],"names":["React","Link","moment","Markdown","ContentfulUtil","BlogPost","Component","state","date","title","icon","content","setPost","post","items","length","setState","fields","isBlogPostInProps","props","location","isBlogPostLoaded","renderBlogPost","calendar","sameDay","lastDay","lastWeek","sameElse","maxHeight","render","componentDidMount","fetchPostByPathName","match","params","blogPost","then","response"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport * as Markdown from \"react-markdown\";\nimport ContentfulUtil from \"../utils/ContentfulUtil\";\n\nclass BlogPost extends React.Component {\n  state = {\n    date: \"\",\n    title: \"\",\n    icon: \"\",\n    content: \"\",\n  };\n\n  setPost = post => {\n    if (post && post.items.length) {\n      this.setState({\n        date: post.items[0].fields.date,\n        title: post.items[0].fields.title,\n        icon: post.items[0].fields.icon,\n        content: post.items[0].fields.content,\n      });\n    }\n  };\n\n  componentDidMount() {\n    if (this.isBlogPostInProps()) {\n      this.setState({\n        date: this.props.location.date,\n        title: this.props.location.title,\n        icon: this.props.location.icon,\n        content: this.props.location.content,\n      });\n    } else {\n      ContentfulUtil.fetchPostByPathName(\n        this.props.match.params.blogPost,\n      ).then(response => this.setPost(response));\n    }\n  }\n\n  isBlogPostInProps = () =>\n    this.props &&\n    this.props.location &&\n    this.props.location.date &&\n    this.props.location.title &&\n    this.props.location.icon &&\n    this.props.location.content;\n\n  isBlogPostLoaded = () =>\n    this.state &&\n    this.state.date &&\n    this.state.title &&\n    this.state.icon &&\n    this.state.content;\n\n  renderBlogPost = () => (\n    <>\n      <Link to=\"/blog\">Back to Blog</Link>\n      <p>\n        {moment(this.state.date).calendar(null, {\n          sameDay: \"[Today]\",\n          lastDay: \"[Yesterday]\",\n          lastWeek: \"[Last] dddd\",\n          sameElse: \"MMM Do YYYY\",\n        })}\n      </p>\n      <img src={this.state.icon} style={{ maxHeight: 200 }} />\n      <h1>{this.state.title}</h1>\n      <Markdown source={this.state.content} />\n    </>\n  );\n\n  render = () => {\n    return this.isBlogPostLoaded() ? this.renderBlogPost() : \"Loading...\";\n  };\n}\n\nexport default BlogPost;\n"]},"metadata":{},"sourceType":"module"}