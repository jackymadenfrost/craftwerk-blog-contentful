{"ast":null,"code":"var _jsxFileName = \"/Users/chusyjacky/Documents/GitHub/ContentfulBlog/src/component/BlogPost.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport * as Markdown from \"react-markdown\";\nimport ContentfulUtil from \"../utils/ContentfulUtil\";\n\nclass BlogPost extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      date: \"\",\n      title: \"\",\n      icon: \"\",\n      featuredImage: \"\",\n      content: \"\"\n    };\n\n    this.setPost = post => {\n      if (post && post.items.length) {\n        this.setState({\n          date: post.items[0].fields.date,\n          title: post.items[0].fields.title,\n          icon: post.items[0].fields.icon,\n          featuredImage: post.items[0].fields.featuredImage,\n          content: post.items[0].fields.content\n        });\n      }\n    };\n\n    this.isBlogPostInProps = () => this.props && this.props.location && this.props.location.date && this.props.location.title && this.props.location.icon && this.props.location.featuredImage && this.props.location.content;\n\n    this.isBlogPostLoaded = () => this.state && this.state.date && this.state.title && this.state.icon && this.state.featuredImage && this.state.content;\n\n    this.renderBlogPost = () => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n      to: \"/blog\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, \"Back to Blog\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }\n    }, moment(this.state.date).calendar(null, {\n      sameDay: \"[Today]\",\n      lastDay: \"[Yesterday]\",\n      lastWeek: \"[Last] dddd\",\n      sameElse: \"MMM Do YYYY\"\n    })), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.featuredImage,\n      style: {\n        maxHeight: 200\n      },\n      alt: this.props.location.title,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }, this.state.title), /*#__PURE__*/React.createElement(Markdown, {\n      source: this.state.content,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 7\n      }\n    }));\n\n    this.render = () => {\n      return this.isBlogPostLoaded() ? this.renderBlogPost() : \"Loading...\";\n    };\n  }\n\n  componentDidMount() {\n    if (this.isBlogPostInProps()) {\n      this.setState({\n        date: this.props.location.date,\n        title: this.props.location.title,\n        icon: this.props.location.icon,\n        featuredImage: this.props.location.featuredImage,\n        content: this.props.location.content\n      });\n    } else {\n      ContentfulUtil.fetchPostByPathName(this.props.match.params.blogPost).then(response => this.setPost(response));\n    }\n  }\n\n}\n\nexport default BlogPost;","map":{"version":3,"sources":["/Users/chusyjacky/Documents/GitHub/ContentfulBlog/src/component/BlogPost.js"],"names":["React","Link","moment","Markdown","ContentfulUtil","BlogPost","Component","state","date","title","icon","featuredImage","content","setPost","post","items","length","setState","fields","isBlogPostInProps","props","location","isBlogPostLoaded","renderBlogPost","calendar","sameDay","lastDay","lastWeek","sameElse","maxHeight","render","componentDidMount","fetchPostByPathName","match","params","blogPost","then","response"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport moment from \"moment\";\nimport * as Markdown from \"react-markdown\";\nimport ContentfulUtil from \"../utils/ContentfulUtil\";\n\nclass BlogPost extends React.Component {\n  state = {\n    date: \"\",\n    title: \"\",\n    icon: \"\",\n    featuredImage: \"\",\n    content: \"\",\n  };\n\n  setPost = post => {\n    if (post && post.items.length) {\n      this.setState({\n        date: post.items[0].fields.date,\n        title: post.items[0].fields.title,\n        icon: post.items[0].fields.icon,\n        featuredImage: post.items[0].fields.featuredImage,\n        content: post.items[0].fields.content,\n      });\n    }\n  };\n\n  componentDidMount() {\n    if (this.isBlogPostInProps()) {\n      this.setState({\n        date: this.props.location.date,\n        title: this.props.location.title,\n        icon: this.props.location.icon,\n        featuredImage: this.props.location.featuredImage,\n        content: this.props.location.content,\n      });\n    } else {\n      ContentfulUtil.fetchPostByPathName(\n        this.props.match.params.blogPost,\n      ).then(response => this.setPost(response));\n    }\n  }\n\n  isBlogPostInProps = () =>\n    this.props &&\n    this.props.location &&\n    this.props.location.date &&\n    this.props.location.title &&\n    this.props.location.icon &&\n    this.props.location.featuredImage &&\n    this.props.location.content;\n\n  isBlogPostLoaded = () =>\n    this.state &&\n    this.state.date &&\n    this.state.title &&\n    this.state.icon &&\n    this.state.featuredImage &&\n    this.state.content;\n\n  renderBlogPost = () => (\n    <>\n      <Link to=\"/blog\">Back to Blog</Link>\n      <p>\n        {moment(this.state.date).calendar(null, {\n          sameDay: \"[Today]\",\n          lastDay: \"[Yesterday]\",\n          lastWeek: \"[Last] dddd\",\n          sameElse: \"MMM Do YYYY\",\n        })}\n      </p>\n      <img\n        src={this.state.featuredImage}\n        style={{ maxHeight: 200 }}\n        alt={this.props.location.title}\n      />\n      <h1>{this.state.title}</h1>\n      <Markdown source={this.state.content} />\n    </>\n  );\n\n  render = () => {\n    return this.isBlogPostLoaded() ? this.renderBlogPost() : \"Loading...\";\n  };\n}\n\nexport default BlogPost;\n"]},"metadata":{},"sourceType":"module"}